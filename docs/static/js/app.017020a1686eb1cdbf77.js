webpackJsonp([1],{"G/2H":function(t,e,a){t.exports=a.p+"static/img/loading.e528a98.gif"},HW4c:function(t,e){},Hv7P:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("7+uW"),n=a("mtWM"),s=a.n(n),o=a("lbHh"),i=a.n(o),l={login:"https://aliss-app.herokuapp.com/api/v1/auth",logout:"https://aliss-app.herokuapp.com/api/v1/user/logout",authToken:"https://aliss-app.herokuapp.com/api/v1/user",config:"https://aliss-app.herokuapp.com/api/v1/config/",getBanks:"https://aliss-app.herokuapp.com/api/v1/fa/banks",postFaData:"https://aliss-app.herokuapp.com/api/v1/fa/fadata",getAccounts:"https://aliss-app.herokuapp.com/api/v1/fa/accounts?category=1",getAllAccounts:"https://aliss-app.herokuapp.com/api/v1/fa/accounts",getBankCond:"https://aliss-app.herokuapp.com/api/v1/fa/bankCond",close:"https://aliss-app.herokuapp.com/api/v1/fa/closePeriod",transfer:"https://aliss-app.herokuapp.com/api/v1/fa/transfer",search:"https://aliss-app.herokuapp.com/api/v1/fa/postList"},d={data:function(){return{apiUrls:l}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("h1",[t._v(t._s(t.msg))]),t._v(" "),a("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),a("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),a("br"),t._v(" "),a("li",[a("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var u=a("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App test"}}},c,!1,function(t){a("mZqF")},"data-v-3842e666",null).exports,v=a("mvHQ"),m=a.n(v),h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[t._t("header",[t._v("\n              default header\n          ")])],2),t._v(" "),a("div",{staticClass:"modal-body"},[t._t("body",[t._v("\n              default body\n          ")])],2),t._v(" "),a("div",{staticClass:"modal-footer"},[a("div",{directives:[{name:"show",rawName:"v-show",value:1==this.mtypeIn,expression:"this.mtypeIn == 1"}],staticClass:"mtype1"},[a("div",{staticClass:"buttonBase fainputButton",staticStyle:{float:"left",margin:"10px",width:"80px"},on:{click:t.clickYes}},[t._v("Yes")]),t._v(" "),a("div",{staticClass:"buttonBase fainputButton",staticStyle:{float:"left",margin:"10px",width:"80px"},on:{click:t.clickNo}},[t._v("No")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==this.mtypeIn,expression:"this.mtypeIn == 2"}],staticClass:"mtype2"},[a("div",{staticClass:"buttonBase fainputButton",staticStyle:{float:"left",margin:"10px",width:"80px"},on:{click:t.clickOk}},[t._v("OK")])])])])])])])},staticRenderFns:[]};var p=a("VU/8")({name:"Modal",props:["mtypeIn"],methods:{clickYes:function(){this.$emit("modal-yes-event")},clickNo:function(){this.$emit("modal-no-event")},clickOk:function(){this.$emit("modal-ok-event")}}},h,!1,function(t){a("lFpd")},"data-v-340d866d",null).exports,f={name:"TitleHeader",mixins:[d],props:["userName"],components:{Modal:p},data:function(){return{showModal:!1}},methods:{clickToggle:function(){this.$emit("toggle-clicked-event")},singOut:function(){this.showModal=!0},confirmYes:function(){var t=i.a.get("token"),e=this;s.a.get(this.apiUrls.logout,{headers:{Authorization:t}}).then(function(t){console.log(m()(t.data)),i.a.remove("token"),e.showModal=!1,location.reload()})},confirmNo:function(){this.showModal=!1}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",{staticStyle:{overflow:"hidden"}},[a("div",{attrs:{id:"headerTitle"}},[a("div",{attrs:{id:"mnavToggle"},on:{click:t.clickToggle}},[t._m(0)]),t._v(" "),a("h1",[t._v("aliss")])]),t._v(" "),a("div",{attrs:{id:"headerUser"}},[a("p",[a("span",{attrs:{id:"userIcon"}},[t._v("●")]),t._v(" "+t._s(t.userName))]),t._v(" "),a("p",[a("a",{attrs:{href:"#"},on:{click:t.singOut}},[t._v("Sign Out")])])]),t._v(" "),t._m(1)]),t._v(" "),a("Modal",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],attrs:{mtypeIn:1},on:{"modal-yes-event":t.confirmYes,"modal-no-event":t.confirmNo}},[a("p",{attrs:{slot:"header"},slot:"header"},[t._v("aliss Confirmation")]),t._v(" "),a("template",{slot:"body"},[t._v("\n            alissからサインアウトしますか？\n        ")])],2)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span"),this._v(" "),e("span"),this._v(" "),e("span")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"subTitle"}},[a("span",{staticStyle:{color:"#f16272"}},[t._v("A")]),t._v("ctivity and\n            "),a("span",{staticStyle:{color:"#f16272"}},[t._v("LI")]),t._v("felog\n            "),a("span",{staticStyle:{color:"#f16272"}},[t._v("S")]),t._v("tored\n            "),a("span",{staticStyle:{color:"#f16272"}},[t._v("S")]),t._v("ervice\n        ")])}]};var g=a("VU/8")(f,_,!1,function(t){a("bL0/")},"data-v-42efdc8e",null).exports,y={name:"SideMenu",data:function(){return{title:"test",menuList:[{id:1,pageName:"Portal",url:location.pathname+"?pId=portal",layer:"1",select:!1,del:!1},{id:7,pageName:"Financial Accountings",url:null,layer:"1",select:!1,del:!1},{id:8,pageName:"家計簿入力",url:location.pathname+"?pId=fa01",layer:"2",select:!1,del:!1},{id:9,pageName:"Bank間振替",url:null,layer:"2",select:!1,del:!1},{id:10,pageName:"月次締処理",url:null,layer:"2",select:!1,del:!1},{id:14,pageName:"WishList",url:null,layer:"2",select:!1,del:!1},{id:11,pageName:"Bank設定",url:null,layer:"2",select:!1,del:!1},{id:12,pageName:"Account階層設定",url:null,layer:"2",select:!1,del:!1},{id:13,pageName:"残高照会",url:null,layer:"2",select:!1,del:!1},{id:2,pageName:"User Management",url:null,layer:"1",select:!1,del:!1},{id:3,pageName:"個人設定",url:null,layer:"2",select:!1,del:!1},{id:4,pageName:"UM設定(Admin)",url:null,layer:"2",select:!1,del:!1},{id:5,pageName:"Role設定(Admin)",url:null,layer:"2",select:!1,del:!1},{id:6,pageName:"Auth設定(Admin)",url:null,layer:"2",select:!1,del:!1}]}}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"menu","data-v-sidemenu":""}},t._l(t.menuList,function(e,r){return a("span",{key:r},[1==e.layer&&e.select&&!e.del?a("h1",{staticClass:"selected",attrs:{"data-v-sidemenu":""}},[t._v("\n            "+t._s(e.pageName)+"\n        ")]):t._e(),t._v(" "),1!=e.layer||e.select||e.del?t._e():a("h1",{attrs:{"data-v-sidemenu":""}},[null!=e.url?[null!=e.url?a("a",{attrs:{href:e.url}},[t._v("\n                    "+t._s(e.pageName)+"\n                ")]):t._e()]:[t._v("\n                "+t._s(e.pageName)+"\n            ")]],2),t._v(" "),2==e.layer&&e.select&&!e.del?a("h2",{staticClass:"selected",attrs:{"data-v-sidemenu":""}},[t._v("\n            "+t._s(e.pageName)+"\n        ")]):t._e(),t._v(" "),2!=e.layer||e.select||e.del?t._e():a("h2",{attrs:{"data-v-sidemenu":""}},[null!=e.url?[null!=e.url?a("a",{attrs:{href:e.url}},[t._v("\n                    "+t._s(e.pageName)+"\n                ")]):t._e()]:[t._v("\n                "+t._s(e.pageName)+"\n            ")]],2)])}))},staticRenderFns:[]};var k=a("VU/8")(y,b,!1,function(t){a("rIsq")},"data-v-02a534d0",null).exports,w={name:"SideMenu",data:function(){return{title:"test",menuList:[{id:1,pageName:"Portal",url:location.pathname+"?pId=portal",layer:"1",select:!1,del:!1},{id:7,pageName:"Financial Accountings",url:null,layer:"1",select:!1,del:!1},{id:8,pageName:"家計簿入力",url:location.pathname+"?pId=fa01",layer:"2",select:!1,del:!1},{id:9,pageName:"Bank間振替",url:location.pathname+"?pId=fa02",layer:"2",select:!1,del:!1},{id:10,pageName:"月次締処理",url:location.pathname+"?pId=fa03",layer:"2",select:!1,del:!1},{id:11,pageName:"伝票検索",url:location.pathname+"?pId=fa05",layer:"2",select:!1,del:!1}]}},methods:{closeMenu:function(){this.$emit("menu-close-event")}}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"sidef"}},[a("div",{staticStyle:{position:"fixed","z-index":"9998",top:"0",left:"0",width:"200%",height:"100%","background-color":"rgba(0, 0, 0, .5)",display:"table"}},[a("div",{attrs:{id:"menu","data-v-sidemenuF":""}},[a("div",{staticClass:"buttonBase",staticStyle:{margin:"20px 0px"},on:{click:t.closeMenu}},[t._v("Close")]),t._v(" "),t._l(t.menuList,function(e,r){return a("span",{key:r},[1==e.layer&&e.select&&!e.del?a("h1",{staticClass:"selected",attrs:{"data-v-sidemenuF":""}},[t._v("\n                    "+t._s(e.pageName)+"\n                ")]):t._e(),t._v(" "),1!=e.layer||e.select||e.del?t._e():a("h1",{attrs:{"data-v-sidemenuF":""}},[null!=e.url?[null!=e.url?a("a",{attrs:{href:e.url}},[t._v("\n                            "+t._s(e.pageName)+"\n                        ")]):t._e()]:[t._v("\n                        "+t._s(e.pageName)+"\n                    ")]],2),t._v(" "),2==e.layer&&e.select&&!e.del?a("h2",{staticClass:"selected",attrs:{"data-v-sidemenuF":""}},[t._v("\n                    "+t._s(e.pageName)+"\n                ")]):t._e(),t._v(" "),2!=e.layer||e.select||e.del?t._e():a("h2",{attrs:{"data-v-sidemenuF":""}},[null!=e.url?[null!=e.url?a("a",{attrs:{href:e.url}},[t._v("\n                            "+t._s(e.pageName)+"\n                        ")]):t._e()]:[t._v("\n                        "+t._s(e.pageName)+"\n                    ")]],2)])})],2)])])},staticRenderFns:[]};var I=a("VU/8")(w,N,!1,function(t){a("NTHk")},"data-v-ae393c56",null).exports,M={render:function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{attrs:{"data-v-footer":""}},[e("p",[this._v(this._s(this.footerTitle)+" ver "+this._s(this.version))])])},staticRenderFns:[]};var C=a("VU/8")({name:"FooterComp",data:function(){return{footerTitle:"aliss WEB Suite",version:"1.0.0"}}},M,!1,function(t){a("yaDz")},"data-v-fb9a77a6",null).exports,x={render:function(){var t=this.$createElement;return(this._self._c||t)("p",{attrs:{"data-v-viewheader":""}},[this._v(this._s(this.moduleName)+" / "+this._s(this.viewName))])},staticRenderFns:[]};var H=a("VU/8")({name:"ViewHeader",props:["moduleName","viewName"]},x,!1,function(t){a("aApf")},"data-v-0a652be8",null).exports,A=a("woOf"),E=a.n(A),F={name:"FAbalanceRep",mixins:[d],data:function(){return{balances:[{id:null,name:"",balance:null,currentYear:null,currentPeriod:null}]}},created:function(){var t=i.a.get("token");if(null!=t){var e=this;s.a.get(this.apiUrls.getBanks,{headers:{Authorization:t}}).then(function(t){if(200==t.status&&"S"==t.data.status){for(var a=0;a<t.data.data.length;a++){var r=E()({},e.balances[0]);r.id=t.data.data[a].id,r.name=t.data.data[a].name,r.balance=Number(t.data.data[a].balance).toLocaleString(void 0,{maximumFractionDigits:20}),r.currentYear=t.data.data[a].currentYear,r.currentPeriod=t.data.data[a].currentPeriod,e.balances.push(r)}e.balances.shift()}}).catch(function(t){})}}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"entry",attrs:{"data-v-balanceRep":""}},[a("h1",{attrs:{"data-v-balanceRep":""}},[t._v("現残高レポート")]),t._v(" "),a("div",{staticClass:"portalReport",attrs:{"data-v-balanceRep":""}},[a("table",{attrs:{width:"100%","data-v-balanceRep":""}},[t._m(0),t._v(" "),t._l(t.balances,function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.currentYear)+"."+t._s(e.currentPeriod))]),t._v(" "),a("td",[t._v(t._s(e.balance))])])})],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{attrs:{width:"30%"}},[this._v("口座名")]),this._v(" "),e("th",{attrs:{width:"30%"}},[this._v("現在月")]),this._v(" "),e("th",{attrs:{width:"40%"}},[this._v("現残高")])])}]};var P={name:"Portal",props:["userName"],components:{ViewHeader:H,FAbalanceRep:a("VU/8")(F,B,!1,function(t){a("QV/2")},"data-v-6d0e6dbb",null).exports},created:function(){var t=new Date;this.today=t.getFullYear()+"/"+Number(t.getMonth()+1)+"/"+t.getDate()},data:function(){return{moduleName:"aliss",viewName:"Portal",welcomeMsg:"Welcome to",appTitle:"aliss WEB Suite",today:""}}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{"data-v-portal":""}},[a("ViewHeader",{attrs:{moduleName:t.moduleName,viewName:t.viewName}}),t._v(" "),a("div",{staticClass:"entry",attrs:{"data-v-portal":""}},[a("h1",{attrs:{"data-v-portal":""}},[t._v(t._s(t.welcomeMsg)+" "+t._s(t.appTitle))]),t._v(" "),a("p",{attrs:{"data-v-portal":""}},[t._v("Hello "+t._s(t.userName)+" !")]),t._v(" "),a("p",{attrs:{"data-v-portal":""}},[t._v("Today is "+t._s(t.today)+".")])]),t._v(" "),a("FAbalanceRep")],1)},staticRenderFns:[]};var R=a("VU/8")(P,S,!1,function(t){a("tgTc")},"data-v-06811971",null).exports,$={name:"FAheader",mixins:[d],props:["header"],data:function(){return{bankId:[{id:"",name:"",balance:0,year:0,period:0,default:!1}]}},created:function(){var t=i.a.get("token");if(null!=t){var e=this;s.a.get(this.apiUrls.getBanks,{headers:{Authorization:t}}).then(function(t){if(200==t.status&&"S"==t.data.status){for(var a=0;a<t.data.data.length;a++){var r=E()({},e.bankId[0]);r.id=t.data.data[a].id,r.name=t.data.data[a].name,r.balance=t.data.data[a].balance,r.year=t.data.data[a].currentYear,r.period=t.data.data[a].currentPeriod,r.default=t.data.data[a].default,e.bankId.push(r),r.default&&(e.header.bank=r.id,e.header.balance=r.balance,r.period<10?e.header.bankPeriod=r.year+"/0"+r.period:e.header.bankPeriod=r.year+"/"+r.period)}e.$emit("header-bank-send-event",e.bankId)}}).catch(function(t){})}},methods:{changeBank:function(){for(var t=0;t<this.bankId.length;t++)if(this.bankId[t].id==this.header.bank)return this.header.balance=this.bankId[t].balance,void(this.bankId[t].period<10?this.header.bankPeriod=this.bankId[t].year.toString()+"/0"+this.bankId[t].period.toString():this.header.bankPeriod=this.bankId[t].year.toString()+"/"+this.bankId[t].period.toString())}}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"entry",attrs:{"data-v-faheader":""}},[a("form",{attrs:{"data-v-faheader":""}},[a("div",{staticClass:"entryInputBlock",attrs:{"data-v-faheader":""}},[a("p",{attrs:{"data-v-faheader":""}},[t._v("年")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.header.year,expression:"header.year"}],attrs:{type:"number",name:"year","data-v-faheader":""},domProps:{value:t.header.year},on:{input:function(e){e.target.composing||t.$set(t.header,"year",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"entryInputBlock",attrs:{"data-v-faheader":""}},[a("p",{attrs:{"data-v-faheader":""}},[t._v("月")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.header.month,expression:"header.month"}],attrs:{type:"number",name:"month","data-v-faheader":""},domProps:{value:t.header.month},on:{input:function(e){e.target.composing||t.$set(t.header,"month",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"entryInputBlock",attrs:{"data-v-faheader":""}},[a("p",{attrs:{"data-v-faheader":""}},[t._v("日")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.header.day,expression:"header.day"}],attrs:{type:"number",name:"day","data-v-faheader":""},domProps:{value:t.header.day},on:{input:function(e){e.target.composing||t.$set(t.header,"day",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"entryInputBlock",attrs:{"data-v-faheader":""}},[a("p",{attrs:{"data-v-faheader":""}},[t._v("口座ID")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.header.bank,expression:"header.bank"}],staticStyle:{width:"120px"},attrs:{name:"bank"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.header,"bank",e.target.multiple?a:a[0])},t.changeBank]}},t._l(t.bankId,function(e,r){return a("option",{key:r,domProps:{value:e.id}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])}))])])])])},staticRenderFns:[]};var D=a("VU/8")($,T,!1,function(t){a("Q8a4")},"data-v-db67c904",null).exports,V={name:"FAentry",props:["index","entry","accId"],data:function(){return{}},methods:{selectAccount:function(){for(var t=0;t<this.accId.length;t++)if(this.accId[t].id==this.entry.accId)return 1==this.accId[t].type?void(this.entry.entryAgg=-1):void(this.entry.entryAgg=1)},delEntry:function(){this.$emit("entry-del-event",this.index)}},computed:{entryTotal:function(){var t=Number(this.entry.value)-Number(this.entry.discount)+Number(this.entry.ext),e={index:0,total:0};return e.index=this.index,e.total=t*this.entry.entryAgg,this.entry.reverse&&(e.total=-1*e.total),this.$emit("entry-input-event",e),t}}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"faentry"}},[a("div",{staticClass:"entry",attrs:{"data-v-faentry":""}},[a("form",{attrs:{"data-v-faentry":""}},[a("div",{staticClass:"entryInputBlock",attrs:{"data-v-faentry":""}},[a("p",{attrs:{"data-v-faentry":""}},[t._v("科目*")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.entry.accId,expression:"entry.accId"}],attrs:{name:"accInput"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.entry,"accId",e.target.multiple?a:a[0])},t.selectAccount]}},t._l(t.accId,function(e,r){return a("option",{key:r,domProps:{value:e.id}},[t._v(t._s(e.id)+"："+t._s(e.name))])}))]),t._v(" "),a("div",{staticClass:"entryInputBlock",attrs:{"data-v-faentry":""}},[a("p",{attrs:{"data-v-faentry":""}},[t._v("内容・内訳")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.entryTxt,expression:"entry.entryTxt"}],attrs:{type:"text",name:"entryTxtInput"},domProps:{value:t.entry.entryTxt},on:{input:function(e){e.target.composing||t.$set(t.entry,"entryTxt",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"entryInputBlock",attrs:{"data-v-faentry":""}},[a("p",{attrs:{"data-v-faentry":""}},[t._v("金額*")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.value,expression:"entry.value"}],attrs:{type:"number",name:"valueInput"},domProps:{value:t.entry.value},on:{input:function(e){e.target.composing||t.$set(t.entry,"value",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"entryInputBlock",attrs:{"data-v-faentry":""}},[a("p",{attrs:{"data-v-faentry":""}},[t._v("値引額")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.discount,expression:"entry.discount"}],attrs:{type:"number",name:"discountInput"},domProps:{value:t.entry.discount},on:{input:function(e){e.target.composing||t.$set(t.entry,"discount",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"entryInputBlock",attrs:{"data-v-faentry":""}},[a("p",{attrs:{"data-v-faentry":""}},[t._v("税・手数料等")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.ext,expression:"entry.ext"}],attrs:{type:"number",name:"extInput"},domProps:{value:t.entry.ext},on:{input:function(e){e.target.composing||t.$set(t.entry,"ext",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"entryInputBlock",attrs:{"data-v-faentry":""}},[a("p",{attrs:{"data-v-faentry":""}},[t._v("備考")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.remarks,expression:"entry.remarks"}],attrs:{type:"text",name:"remarksInput"},domProps:{value:t.entry.remarks},on:{input:function(e){e.target.composing||t.$set(t.entry,"remarks",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"entryTotal",attrs:{"data-v-faentry":""}},[a("p",{attrs:{"data-v-faentry":""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.reverse,expression:"entry.reverse"}],staticStyle:{width:"15px",height:"15px","margin-left":"5px"},attrs:{type:"checkbox",name:"reverse"},domProps:{checked:Array.isArray(t.entry.reverse)?t._i(t.entry.reverse,null)>-1:t.entry.reverse},on:{change:function(e){var a=t.entry.reverse,r=e.target,n=!!r.checked;if(Array.isArray(a)){var s=t._i(a,null);r.checked?s<0&&t.$set(t.entry,"reverse",a.concat([null])):s>-1&&t.$set(t.entry,"reverse",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.entry,"reverse",n)}}}),t._v("取消転記")]),t._v(" "),a("p",{attrs:{"data-v-faentry":""}},[t._v("明細小計："+t._s(t.entryTotal))]),t._v(" "),a("p",{attrs:{"data-v-faentry":""}},[t._v("※ 金額は絶対値で入力してください")]),t._v(" "),a("div",{staticClass:"buttonBase faentryButton",attrs:{"data-v-faentry":""},on:{click:t.delEntry}},[t._v("明細削除")])])])])},staticRenderFns:[]};var L=a("VU/8")(V,U,!1,function(t){a("Xk8g")},"data-v-046c6998",null).exports,Y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"loading"}},[e("div",{staticClass:"loading-mask"},[e("div",{staticClass:"loading-wrapper"},[e("div",{staticClass:"loading-container"},[e("img",{attrs:{src:a("G/2H")}})])])])])},staticRenderFns:[]};var O=a("VU/8")({name:"Loading"},Y,!1,function(t){a("xDfQ")},"data-v-2cbe3e5e",null).exports,W={name:"FAinput",mixins:[d],components:{ViewHeader:H,FAentry:L,FAheader:D,Modal:p,Loading:O},created:function(){var t=new Date;this.faHeader.year=t.getFullYear(),this.faHeader.month=t.getMonth()+1,this.faHeader.day=t.getDate();var e=i.a.get("token");if(null!=e){var a=this;s.a.get(this.apiUrls.getAccounts,{headers:{Authorization:e}}).then(function(t){if(200==t.status&&"S"==t.data.status){for(var e=0;e<t.data.data.length;e++){var r=E()({},a.accId[0]);r.id=t.data.data[e].accid,r.name=t.data.data[e].name,r.type=t.data.data[e].accType,a.accId.push(r)}a.accId.shift()}}).catch(function(t){})}},data:function(){return{moduleName:"FA",viewName:"家計簿入力",faHeader:{year:null,month:null,day:null,bank:"",balance:10,bankPeriod:null},faEntrys:[{accId:"",entryTxt:"",value:null,discount:null,ext:null,remarks:"",entrySum:null,entryAgg:null,reverse:!1},{accId:"",entryTxt:"",value:null,discount:null,ext:null,remarks:"",entrySum:null,entryAgg:null,reverse:!1}],faHvalue:{hExt:null,hDiscount:null,hComment:""},accId:[{id:"",name:"",type:null}],confirmModal:!1,completeModal:!1,errorModal:!1,loading:!1,checkError:!1,errorEntryNo:0,errorMsg:"",errorCode:""}},computed:{total:function(){for(var t=0,e=1;e<this.faEntrys.length;e++)t+=this.faEntrys[e].entrySum;return t=t-Number(this.faHvalue.hExt)+Number(this.faHvalue.hDiscount),t},afterBalance:function(){return this.faHeader.balance+this.total}},methods:{entryUpdate:function(t){this.faEntrys[t.index].entrySum=t.total},addEntry:function(){var t=E()({},this.faEntrys[0]);this.faEntrys.push(t)},delEntry:function(t){this.$delete(this.faEntrys,t)},registor:function(){var t=this.checkEntries();this.confirmModal=t},confirmYes:function(){this.confirmModal=!1,this.loading=!0,this.callPostFaData()},confirmNo:function(){this.confirmModal=!1},callPostFaData:function(){var t={header:{year:Number(this.faHeader.year),month:Number(this.faHeader.month),day:Number(this.faHeader.day),bank:this.faHeader.bank,hExt:Number(this.faHvalue.hExt),hDiscount:Number(this.faHvalue.hDiscount),hComment:this.faHvalue.hComment,hTotal:this.total},entries:this.faEntrys};console.log(m()(t));var e=this,a=i.a.get("token");null!=a&&s.a.post(this.apiUrls.postFaData,{header:{year:Number(this.faHeader.year),month:Number(this.faHeader.month),day:Number(this.faHeader.day),bank:this.faHeader.bank,hExt:Number(this.faHvalue.hExt),hDiscount:Number(this.faHvalue.hDiscount),hComment:this.faHvalue.hComment,hTotal:this.total},entries:this.faEntrys},{headers:{Authorization:a}}).then(function(t){if(e.loading=!1,200==t.status)return"S"==t.data.status?void(e.completeModal=!0):(e.errorCode=t.data.code,void(e.errorModal=!0));e.errorModal=!0}).catch(function(t){e.errorCode=9999,e.loading=!1,e.errorModal=!0})},checkEntries:function(){if(this.faEntrys.length<2)return this.checkError=!0,this.errorMsg="1明細以上設定してください。",this.errorEntryNo="-",!1;for(var t=1;t<this.faEntrys.length;t++){if(""==this.faEntrys[t].accId)return this.checkError=!0,this.errorMsg="科目を設定してください。",this.errorEntryNo=t,!1;if(null==this.faEntrys[t].value||0==this.faEntrys[t].value)return this.checkError=!0,this.errorMsg="金額を入力してください。",this.errorEntryNo=t,!1}return!0},postModal:function(){this.completeModal=!1,location.reload(),window.scrollTo(0,0)},postErrorModal:function(){this.errorModal=!1},postCheckError:function(){this.checkError=!1}}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{"data-v-fainput":""}},[a("ViewHeader",{attrs:{moduleName:t.moduleName,viewName:t.viewName}}),t._v(" "),a("FAheader",{attrs:{header:t.faHeader}}),t._v(" "),a("div",{staticClass:"buttonBase fainputButton",attrs:{"data-v-fainput":""}},[t._v("最新情報に更新")]),t._v(" "),t._l(t.faEntrys,function(e,r){return r>0?a("FAentry",{key:r,attrs:{index:r,entry:e,accId:t.accId},on:{"entry-input-event":t.entryUpdate,"entry-del-event":t.delEntry}}):t._e()}),t._v(" "),a("div",{staticClass:"buttonBase fainputButton",attrs:{"data-v-fainput":""},on:{click:t.addEntry}},[t._v("明細追加")]),t._v(" "),a("section",[a("div",{staticClass:"entry",attrs:{"data-v-fainput":""}},[a("form",{attrs:{"data-v-fainput":""}},[a("div",{staticClass:"entryInputBlock",attrs:{"data-v-fainput":""}},[a("p",{staticClass:"formLabel",attrs:{"data-v-fainput":""}},[t._v("外税・手数料等")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.faHvalue.hExt,expression:"faHvalue.hExt"}],attrs:{type:"number",name:"hExtInput"},domProps:{value:t.faHvalue.hExt},on:{input:function(e){e.target.composing||t.$set(t.faHvalue,"hExt",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"entryInputBlock",attrs:{"data-v-fainput":""}},[a("p",{staticClass:"formLabel",attrs:{"data-v-fainput":""}},[t._v("値引額")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.faHvalue.hDiscount,expression:"faHvalue.hDiscount"}],attrs:{type:"number",name:"hDiscountInput"},domProps:{value:t.faHvalue.hDiscount},on:{input:function(e){e.target.composing||t.$set(t.faHvalue,"hDiscount",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"entryInputBlock",attrs:{"data-v-fainput":""}},[a("p",{staticClass:"formLabel",attrs:{"data-v-fainput":""}},[t._v("コメント")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.faHvalue.hComment,expression:"faHvalue.hComment"}],staticClass:"commentInput",attrs:{type:"text",name:"hCommentInput","data-v-fainput":""},domProps:{value:t.faHvalue.hComment},on:{input:function(e){e.target.composing||t.$set(t.faHvalue,"hComment",e.target.value)}}})])])])]),t._v(" "),a("section",[a("div",{staticClass:"entry",attrs:{"data-v-fainput":""}},[a("table",{attrs:{"data-v-fainput":""}},[a("tr",[a("td",[t._v("伝票合計金額：")]),a("td",[t._v(t._s(t.total))])]),t._v(" "),a("tr",[a("td",[t._v("現残高：")]),a("td",[t._v(t._s(t.faHeader.balance))])]),t._v(" "),a("tr",[a("td",[t._v("登録後残高：")]),a("td",[t._v(t._s(t.afterBalance))])])])])]),t._v(" "),a("div",{staticClass:"buttonBase fainputButton",attrs:{"data-v-fainput":""},on:{click:t.registor}},[t._v("登録")]),t._v(" "),a("Modal",{directives:[{name:"show",rawName:"v-show",value:t.confirmModal,expression:"confirmModal"}],attrs:{mtypeIn:1},on:{"modal-yes-event":t.confirmYes,"modal-no-event":t.confirmNo}},[a("p",{attrs:{slot:"header"},slot:"header"},[t._v("aliss Confirmation")]),t._v(" "),a("template",{slot:"body"},[a("table",{attrs:{"data-v-fainput":""}},[a("p",[t._v("伝票を登録しますか？")]),t._v(" "),a("tr",[a("td",[t._v("伝票合計金額：")]),a("td",[t._v(t._s(t.total))])]),t._v(" "),a("tr",[a("td",[t._v("現残高：")]),a("td",[t._v(t._s(t.faHeader.balance))])]),t._v(" "),a("tr",[a("td",[t._v("登録後残高：")]),a("td",[t._v(t._s(t.afterBalance))])])])])],2),t._v(" "),a("Modal",{directives:[{name:"show",rawName:"v-show",value:t.completeModal,expression:"completeModal"}],attrs:{mtypeIn:2},on:{"modal-ok-event":t.postModal}},[a("p",{attrs:{slot:"header"},slot:"header"},[t._v("aliss Confirmation")]),t._v(" "),a("template",{slot:"body"},[t._v("\n            家計簿に登録しました。\n        ")])],2),t._v(" "),a("Modal",{directives:[{name:"show",rawName:"v-show",value:t.errorModal,expression:"errorModal"}],attrs:{mtypeIn:2},on:{"modal-ok-event":t.postErrorModal}},[a("p",{attrs:{slot:"header"},slot:"header"},[t._v("aliss Confirmation")]),t._v(" "),a("template",{slot:"body"},[a("p",[t._v("家計簿に登録に失敗しました。")]),t._v(" "),a("p",[t._v("(コード："+t._s(t.errorCode)+")")])])],2),t._v(" "),a("Modal",{directives:[{name:"show",rawName:"v-show",value:t.checkError,expression:"checkError"}],attrs:{mtypeIn:2},on:{"modal-ok-event":t.postCheckError}},[a("p",{attrs:{slot:"header"},slot:"header"},[t._v("aliss Confirmation")]),t._v(" "),a("template",{slot:"body"},[a("p",[t._v(t._s(t.errorMsg))]),t._v(" "),a("p",[t._v("(明細番号："+t._s(t.errorEntryNo)+")")])])],2),t._v(" "),a("Loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]})],2)},staticRenderFns:[]};var j=a("VU/8")(W,z,!1,function(t){a("Pvu/")},"data-v-6fd73bf2",null).exports,q={name:"FAcloseInput",props:["bid","bankPeriod"],mixins:[d],components:{Modal:p,Loading:O},data:function(){return{period:null,status:null,isOpen:!1,enableRepoen:!1,preBID:null,errorModal:!1,errorCode:"",errorMsg:"",successMsg:"",endBalance:0,completeModal:!1,loading:!1}},updated:function(){null!=this.bid&&this.bid!=this.preBID&&(this.preBID=this.bid,this.getBankCond())},methods:{executeClose:function(){var t=i.a.get("token");if(null!=t){if(7!=this.bankPeriod.length)return this.errorMsg="指定月はYYYY/MM形式で入力してください。",this.errorCode="9999",void(this.errorModal=!0);var e=Number(this.bankPeriod.substr(0,4)),a=Number(this.bankPeriod.substr(5,2)),r=this;this.loading=!0,s.a.post(this.apiUrls.close,{bank:this.bid,year:e,month:a},{headers:{Authorization:t}}).then(function(t){if(r.loading=!1,200==t.status)return"S"==t.data.status?(r.successMsg="月次締め処理が完了しました。",r.endBalance=t.data.data.endbalance,void(r.completeModal=!0)):(r.errorCode=t.data.code,r.errorMsg="締め処理に失敗しました。",void(r.errorModal=!0));r.errorModal=!0,r.errorMsg="alissサービスに接続できません。<br>時間をおいてから再度お試しください。",r.errorCode="9999"}).catch(function(t){r.loading=!1,r.errorMsg="システムエラー",r.errorCode="9999",r.errorModal=!0})}},simulateClose:function(){var t=i.a.get("token");if(null!=t){if(7!=this.bankPeriod.length)return this.errorMsg="指定月はYYYY/MM形式で入力してください。",this.errorCode="9999",void(this.errorModal=!0);var e=Number(this.bankPeriod.substr(0,4)),a=Number(this.bankPeriod.substr(5,2)),r=this;this.loading=!0,s.a.post(this.apiUrls.close,{bank:this.bid,year:e,month:a,simulate:!0},{headers:{Authorization:t}}).then(function(t){if(r.loading=!1,200==t.status)return"S"==t.data.status?(r.successMsg="月次締め処理シミュレーションに成功しました。",r.endBalance=t.data.data.endbalance,void(r.completeModal=!0)):(r.errorCode=t.data.code,r.errorMsg="締めシミュレーションに失敗しました。",void(r.errorModal=!0));r.errorModal=!0,r.errorMsg="alissサービスに接続できません。<br>時間をおいてから再度お試しください。",r.errorCode="9999"}).catch(function(t){r.loading=!1,r.errorMsg="システムエラー",r.errorCode="9999",r.errorModal=!0})}},reOpen:function(){},refreshData:function(){this.getBankCond()},postModal:function(){this.completeModal=!1,window.scrollTo(0,0)},posterrorModal:function(){this.errorModal=!1},getBankCond:function(){var t=i.a.get("token");if(null!=t){if(7!=this.bankPeriod.length)return this.errorMsg="指定月はYYYY/MM形式で入力してください。",this.errorCode="9999",void(this.errorModal=!0);var e=Number(this.bankPeriod.substr(0,4)),a=Number(this.bankPeriod.substr(5,2)),r=this,n=this.apiUrls.getBankCond+"/"+this.bid+"/"+e+"/"+a;this.loading=!0,s.a.get(n,{headers:{Authorization:t}}).then(function(t){return 200!=t.status?(r.loading=!1,r.errorMsg="alissサービスに接続できません。<br>時間をおいてから再度お試しください。",r.errorCode="9999",void(r.errorModal=!0)):"S"!=t.data.status?(r.loading=!1,r.errorMsg="締め対象期間の口座情報取得に失敗しました。",r.errorCode=t.data.code,void(r.errorModal=!0)):(0==t.data.data.status?(r.status="Open",r.isOpen=!0):(r.status="Closed",r.isOpen=!1),r.enableRepoen=t.data.data.enableRepoen,void(r.loading=!1))}).catch(function(t){r.loading=!1,r.errorMsg="システムエラー",r.errorCode="9999",r.errorModal=!0})}}}},Q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"entry",attrs:{"data-v-facloseinput":""}},[a("form",{attrs:{"data-v-facloseinput":""}},[a("div",{staticClass:"entryInputBlock",attrs:{"data-v-facloseinput":""}},[a("p",{attrs:{"data-v-faentry":""}},[t._v("指定月")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.bankPeriod,expression:"bankPeriod"}],attrs:{type:"text",name:"periodInput"},domProps:{value:t.bankPeriod},on:{input:function(e){e.target.composing||(t.bankPeriod=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"entryInputBlock",attrs:{"data-v-facloseinput":""}},[a("p",{attrs:{"data-v-faentry":""}},[t._v("状態")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],attrs:{type:"text",name:"status",readonly:""},domProps:{value:t.status},on:{input:function(e){e.target.composing||(t.status=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"entrySummary",attrs:{"data-v-facloseinput":""}},[a("div",{staticClass:"buttonBase compButton",attrs:{"data-v-facloseinput":""},on:{click:t.refreshData}},[t._v("最新情報に更新")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"buttonBase compButton",attrs:{"data-v-facloseinput":""},on:{click:t.simulateClose}},[t._v("締め処理シミュレーション")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"buttonBase compButton",attrs:{"data-v-facloseinput":""},on:{click:t.executeClose}},[t._v("締め処理実行")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.enableRepoen,expression:"enableRepoen"}],staticClass:"buttonBase compButton",attrs:{"data-v-facloseinput":""},on:{click:t.reOpen}},[t._v("再オープン")])]),t._v(" "),t.errorModal?a("Modal",{attrs:{mtypeIn:2},on:{"modal-ok-event":t.posterrorModal}},[a("p",{attrs:{slot:"header"},slot:"header"},[t._v("aliss Confirmation")]),t._v(" "),a("template",{slot:"body"},[a("p",[t._v(t._s(t.errorMsg))]),t._v(" "),a("p",[t._v("(コード："+t._s(t.errorCode)+")")])])],2):t._e(),t._v(" "),t.completeModal?a("Modal",{attrs:{mtypeIn:2},on:{"modal-ok-event":t.postModal}},[a("p",{attrs:{slot:"header"},slot:"header"},[t._v("aliss Confirmation")]),t._v(" "),a("template",{slot:"body"},[a("p",[t._v(t._s(t.successMsg))]),t._v(" "),a("p",[t._v("月末残高："+t._s(t.endBalance))])])],2):t._e(),t._v(" "),t.loading?a("Loading"):t._e()],1)},staticRenderFns:[]};var G={name:"FAclose",mixins:[d],components:{ViewHeader:H,FAheader:D,FAcloseInput:a("VU/8")(q,Q,!1,function(t){a("Hv7P")},"data-v-93d2d0dc",null).exports,Modal:p,Loading:O},created:function(){var t=new Date;this.faHeader.year=t.getFullYear(),this.faHeader.month=t.getMonth()+1,this.faHeader.day=t.getDate()},data:function(){return{moduleName:"FA",viewName:"月次締め処理",faHeader:{year:null,month:null,day:null,bank:"",balance:10,bankPeriod:null}}},methods:{}},X={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",{attrs:{"data-v-faclose":""}},[e("ViewHeader",{attrs:{moduleName:this.moduleName,viewName:this.viewName}}),this._v(" "),e("FAheader",{attrs:{header:this.faHeader}}),this._v(" "),e("FAcloseInput",{attrs:{bid:this.faHeader.bank,bankPeriod:this.faHeader.bankPeriod}})],1)},staticRenderFns:[]},Z=a("VU/8")(G,X,!1,null,null,null).exports,J={name:"FAclose",mixins:[d],components:{ViewHeader:H,FAheader:D,Modal:p,Loading:O},created:function(){var t=new Date;this.faHeader.year=t.getFullYear(),this.faHeader.month=t.getMonth()+1,this.faHeader.day=t.getDate();var e=i.a.get("token");if(null!=e){var a=this;s.a.get(this.apiUrls.getAllAccounts,{headers:{Authorization:e}}).then(function(t){if(200==t.status&&"S"==t.data.status){for(var e=0;e<t.data.data.length;e++){var r=E()({},a.accId[0]);r.id=t.data.data[e].accid,r.name=t.data.data[e].name,r.type=t.data.data[e].accType,a.accId.push(r)}a.accId.shift(),a.setDefaultAccId()}}).catch(function(t){})}},data:function(){return{moduleName:"FA",viewName:"Bank間振替",faHeader:{year:null,month:null,day:null,bank:"",balance:0,bankPeriod:null},source:{bank:0,accId:"",comment:"",balance:0},dest:{bank:0,accId:"",comment:"",balance:0},transferValue:null,bankInfo:[{id:"",name:"",balance:0}],accId:[{id:"",name:"",type:null}],confirmModal:!1,loading:!1,completeModal:!1,errorModal:!1,faTransferNo:111,errorCode:9999}},methods:{postTransfer:function(){this.confirmModal=!0},confirmYes:function(){return this.confirmModal=!1,this.faHeader.bank==this.dest.bank?(this.errorCode=9210,void(this.errorModal=!0)):""==this.faHeader.bank||""==this.dest.bank?(this.errorCode=9211,void(this.errorModal=!0)):this.transferValue<=0||null==this.transferValue?(this.errorCode=9212,void(this.errorModal=!0)):(this.loading=!0,void this.callTransferApi())},callTransferApi:function(){var t=this,e={header:{year:this.faHeader.year,month:this.faHeader.month,day:this.faHeader.day,value:this.transferValue},source:{bank:this.faHeader.bank,accId:this.source.accId,comment:this.source.comment},dest:{bank:this.dest.bank,accId:this.dest.accId,comment:this.dest.comment}};console.log(m()(e));var a=i.a.get("token");null!=a&&s.a.post(this.apiUrls.transfer,{header:{year:this.faHeader.year,month:this.faHeader.month,day:this.faHeader.day,value:this.transferValue},source:{bank:this.faHeader.bank,accId:this.source.accId,comment:this.source.comment},dest:{bank:this.dest.bank,accId:this.dest.accId,comment:this.dest.comment}},{headers:{Authorization:a}}).then(function(e){return t.loading=!1,200!=e.status?(t.errorCode=9999,void(t.errorModal=!0)):"S"!=e.data.status?(t.errorCode=e.data.code,void(t.errorModal=!0)):(t.faTransferNo=e.data.data.transferNo,void(t.completeModal=!0))}).catch(function(e){t.loading=!1,t.errorCode=9999,t.errorModal=!0})},confirmNo:function(){this.confirmModal=!1},postModal:function(){this.completeModal=!1,location.reload(),window.scrollTo(0,0)},postErrorModal:function(){this.errorModal=!1},recieveBank:function(t){for(var e=1;e<t.length;e++){var a=E()({},this.bankInfo[0]);a.id=t[e].id,a.name=t[e].name,a.balance=t[e].balance,this.bankInfo.push(a)}},changeDestBank:function(){for(var t=0;t<this.bankInfo.length;t++)this.bankInfo[t].id==this.dest.bank&&(this.dest.balance=this.bankInfo[t].balance)},setDefaultAccId:function(){var t=this,e=i.a.get("token");if(null!=e){var a=this.apiUrls.config+"2001/1/";s.a.get(a,{headers:{Authorization:e}}).then(function(e){200==e.status&&"S"==e.data.status&&(t.source.accId=e.data.data.configStr)}).catch(function(t){});var r=this.apiUrls.config+"2001/2/";s.a.get(r,{headers:{Authorization:e}}).then(function(e){200==e.status&&"S"==e.data.status&&(t.dest.accId=e.data.data.configStr)}).catch(function(t){})}}}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("ViewHeader",{attrs:{moduleName:t.moduleName,viewName:t.viewName}}),t._v(" "),a("FAheader",{attrs:{header:t.faHeader},on:{"header-bank-send-event":t.recieveBank}}),t._v(" "),a("section",[a("div",{staticClass:"entry",attrs:{"data-v-fatransfer":""}},[a("div",{staticClass:"entryInputBlock",attrs:{"data-v-fatransfer":""}},[a("p",{attrs:{"data-v-faentry":""}},[t._v("振替先口座ID*")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.dest.bank,expression:"dest.bank"}],staticStyle:{width:"180px"},attrs:{name:"dBank"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.dest,"bank",e.target.multiple?a:a[0])},t.changeDestBank]}},t._l(t.bankInfo,function(e,r){return a("option",{key:r,domProps:{value:e.id}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])}))]),t._v(" "),a("div",{staticClass:"entryInputBlock",attrs:{"data-v-fatransfer":""}},[a("p",{attrs:{"data-v-faentry":""}},[t._v("振替金額*")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.transferValue,expression:"transferValue"}],attrs:{type:"number",name:"transferValueInput"},domProps:{value:t.transferValue},on:{input:function(e){e.target.composing||(t.transferValue=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"entryInputBlock",attrs:{"data-v-fatransfer":""}},[a("p",{attrs:{"data-v-faentry":""}},[t._v("振替元科目*")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.source.accId,expression:"source.accId"}],attrs:{name:"sAccInput"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.source,"accId",e.target.multiple?a:a[0])}}},t._l(t.accId,function(e,r){return a("option",{key:r,domProps:{value:e.id}},[t._v(t._s(e.id)+"："+t._s(e.name))])}))]),t._v(" "),a("div",{staticClass:"entryInputBlock",attrs:{"data-v-fatransfer":""}},[a("p",{attrs:{"data-v-faentry":""}},[t._v("振替元摘要コメント")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.source.comment,expression:"source.comment"}],attrs:{type:"text",name:"sCommentInput"},domProps:{value:t.source.comment},on:{input:function(e){e.target.composing||t.$set(t.source,"comment",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"entryInputBlock",attrs:{"data-v-fatransfer":""}},[a("p",{attrs:{"data-v-faentry":""}},[t._v("振替先科目*")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.dest.accId,expression:"dest.accId"}],attrs:{name:"dAccInput"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.dest,"accId",e.target.multiple?a:a[0])}}},t._l(t.accId,function(e,r){return a("option",{key:r,domProps:{value:e.id}},[t._v(t._s(e.id)+"："+t._s(e.name))])}))]),t._v(" "),a("div",{staticClass:"entryInputBlock",attrs:{"data-v-fatransfer":""}},[a("p",{attrs:{"data-v-faentry":""}},[t._v("振替先摘要コメント")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dest.comment,expression:"dest.comment"}],attrs:{type:"text",name:"dCommentInput"},domProps:{value:t.dest.comment},on:{input:function(e){e.target.composing||t.$set(t.dest,"comment",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"entrySummary",attrs:{"data-v-fatransfer":""}},[a("div",{staticClass:"buttonBase compButton",attrs:{"data-v-facloseinput":""},on:{click:t.postTransfer}},[t._v("振替転記")])])]),t._v(" "),a("section",[a("div",{staticClass:"entry",attrs:{"data-v-fatransfer":""}},[a("table",{attrs:{"data-v-fatransfer":""}},[t._m(0),t._v(" "),a("tr",[a("td",{attrs:{width:"15px"}}),a("td",[t._v("振替元：")]),a("td",[t._v(t._s(t.faHeader.balance))])]),t._v(" "),a("tr",[a("td"),a("td",[t._v("振替先：")]),a("td",[t._v(t._s(t.dest.balance))])]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("tr",[a("td",{attrs:{width:"10px"}}),a("td",[t._v("振替元：")]),a("td",[t._v(t._s(Number(t.faHeader.balance)-Number(t.transferValue)))])]),t._v(" "),a("tr",[a("td"),a("td",[t._v("振替先：")]),a("td",[t._v(t._s(Number(t.dest.balance)+Number(t.transferValue)))])])])])]),t._v(" "),t.confirmModal?a("Modal",{attrs:{mtypeIn:1},on:{"modal-yes-event":t.confirmYes,"modal-no-event":t.confirmNo}},[a("p",{attrs:{slot:"header"},slot:"header"},[t._v("aliss Confirmation")]),t._v(" "),a("template",{slot:"body"},[a("table",{attrs:{"data-v-fainput":""}},[a("p",[t._v("振替を実行しますか？")]),t._v(" "),a("p",[t._v("振替金額："+t._s(t.transferValue))])])])],2):t._e(),t._v(" "),t.completeModal?a("Modal",{attrs:{mtypeIn:2},on:{"modal-ok-event":t.postModal}},[a("p",{attrs:{slot:"header"},slot:"header"},[t._v("aliss Confirmation")]),t._v(" "),a("template",{slot:"body"},[a("p",[t._v("振替伝票を登録しました。")]),t._v(" "),a("p",[t._v("振替伝票番号："+t._s(t.faTransferNo))])])],2):t._e(),t._v(" "),a("Modal",{directives:[{name:"show",rawName:"v-show",value:t.errorModal,expression:"errorModal"}],attrs:{mtypeIn:2},on:{"modal-ok-event":t.postErrorModal}},[a("p",{attrs:{slot:"header"},slot:"header"},[t._v("aliss Confirmation")]),t._v(" "),a("template",{slot:"body"},[a("p",[t._v("振替伝票登録に失敗しました。")]),t._v(" "),a("p",[t._v("(コード："+t._s(t.errorCode)+")")])])],2),t._v(" "),t.loading?a("Loading"):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{colspan:"3"}},[this._v("現残高")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("p")])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{colspan:"3"}},[this._v("振替後残高")])])}]};var tt=a("VU/8")(J,K,!1,function(t){a("HW4c")},"data-v-abec9de8",null).exports,et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fasearchresult"}},[a("div",{staticClass:"entry",attrs:{"data-v-searchResult":""}},[a("h1",{attrs:{"data-v-searchResult":""}},[t._v("検索結果")]),t._v(" "),a("div",{staticClass:"portalReport",attrs:{"data-v-searchResult":""}},[a("table",{attrs:{width:"100%","data-v-searchResult":""}},[a("thead",{attrs:{"data-v-searchResult":""}},[a("tr",[a("th",{attrs:{width:"20%","data-v-searchResult":""}},[t._v("伝票番号")]),t._v(" "),a("th",{attrs:{width:"20%","data-v-searchResult":""}},[t._v("転記日")]),t._v(" "),a("th",{attrs:{width:"30%","data-v-searchResult":""}},[t._v("口座")]),t._v(" "),a("th",{attrs:{width:"30%","data-v-searchResult":""}},[t._v("金額")])])]),t._v(" "),a("tbody",t._l(t.searchResult,function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(e.faNo))]),t._v(" "),a("td",[t._v(t._s(e.postDate))]),t._v(" "),a("td",[t._v(t._s(e.bankName))]),t._v(" "),a("td",[t._v(t._s(e.value))])])}))])])])])},staticRenderFns:[]};var at={name:"FAsearch",mixins:[d],components:{ViewHeader:H,FAheader:D,Modal:p,Loading:O,FaSearchResult:a("VU/8")({name:"FAsearchResult",props:["searchResult"]},et,!1,function(t){a("R/G9")},"data-v-602e9909",null).exports},created:function(){var t=new Date;this.faHeader.year=t.getFullYear(),this.faHeader.month=t.getMonth()+1,this.faHeader.day=t.getDate()},data:function(){return{moduleName:"FA",viewName:"家計簿伝票検索",loading:!1,errorModal:!1,resultComp:!1,errorMsg:"",errorCode:"",faHeader:{year:null,month:null,day:null,bank:"",balance:10,bankPeriod:null},faSearchResult:[{faId:null,faNo:null,year:null,month:null,day:null,postDate:"",bankName:"",value:null}]}},methods:{search:function(){this.loading=!0;var t=this,e=i.a.get("token");if(null!=e){var a=null,r=null,n=null,o=null;0!=Number(this.faHeader.bank)&&(a=Number(this.faHeader.bank)),0!=Number(this.faHeader.year)&&(r=Number(this.faHeader.year)),0!=Number(this.faHeader.month)&&(n=Number(this.faHeader.month)),0!=Number(this.faHeader.day)&&(o=Number(this.faHeader.day)),s.a.post(this.apiUrls.search,{bank:a,year:r,month:n,day:o},{headers:{Authorization:e}}).then(function(e){if(t.loading=!1,200==e.status)return"S"==e.data.status?e.data.data.count<=0?void(t.resultComp=!1):(t.setSearchResult(e.data.data.list),void(t.resultComp=!0)):(t.errorCode=e.data.code,void(t.errorModal=!0));t.errorModal=!0}).catch(function(e){console.log(e),t.errorCode=9999,t.loading=!1,t.errorModal=!0})}},setSearchResult:function(t){this.faSearchResult.length=1;for(var e=0;e<t.length;e++){var a=E()({},this.faSearchResult[0]);a.faId=t[e].faId,a.faNo=t[e].faNo,a.year=t[e].year,a.month=t[e].month,a.day=t[e].day,a.postDate=t[e].postDate.substring(0,4)+"/"+t[e].postDate.substring(4,6)+"/"+t[e].postDate.substring(6,8),a.bankName=t[e].bankName,a.value=Number(t[e].value).toLocaleString(void 0,{maximumFractionDigits:20}),this.faSearchResult.push(a)}this.faSearchResult.shift()},postErrorModal:function(){this.errorModal=!1}}},rt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("ViewHeader",{attrs:{moduleName:t.moduleName,viewName:t.viewName}}),t._v(" "),a("FAheader",{attrs:{header:t.faHeader}}),t._v(" "),a("div",{staticClass:"buttonBase",on:{click:t.search}},[t._v("検索")]),t._v(" "),t.resultComp?a("FaSearchResult",{attrs:{searchResult:t.faSearchResult}}):t._e(),t._v(" "),a("Modal",{directives:[{name:"show",rawName:"v-show",value:t.errorModal,expression:"errorModal"}],attrs:{mtypeIn:2},on:{"modal-ok-event":t.postErrorModal}},[a("p",{attrs:{slot:"header"},slot:"header"},[t._v("aliss Confirmation")]),t._v(" "),a("template",{slot:"body"},[a("p",[t._v("検索エラー")]),t._v(" "),a("p",[t._v("(コード："+t._s(t.errorCode)+")")])])],2),t._v(" "),a("Loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]})],1)},staticRenderFns:[]},nt=a("VU/8")(at,rt,!1,null,null,null).exports,st={name:"Login",mixins:[d],components:{Modal:p,Loading:O},data:function(){return{loginId:"",passWord:"",showModal:!1,modalMsg:"",loading:!1,devAPI:!0}},created:function(){null!=this.apiUrls.login.match(/localhost/)?this.devAPI=!0:this.devAPI=!1},methods:{login:function(){this.loading=!0;var t=this;s.a.post(this.apiUrls.login,{userId:this.loginId,password:this.passWord}).then(function(e){if(200==e.status)return t.loading=!1,i.a.set("token",e.data.token,{expires:.5}),location.reload(),void window.scrollTo(0,0);t.loading=!1,t.modalMsg="Login ID、パスワードが正しくありません。",t.showModal=!0}).catch(function(e){t.loading=!1,t.modalMsg="alissサービスに接続できません。<br>時間をおいてから再度お試しください。",t.showModal=!0})},loginModalOk:function(){this.showModal=!1}}},ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-mask",attrs:{"data-v-login":""}},[a("div",{staticClass:"form-wrapper",attrs:{"data-v-login":""}},[a("h1",{attrs:{"data-v-login":""}},[t._v("Sign In")]),t._v(" "),a("form",{attrs:{"data-v-login":""}},[a("div",{staticClass:"form-item",attrs:{"data-v-login":""}},[a("label",{attrs:{for:"id"}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.loginId,expression:"loginId"}],attrs:{type:"text",name:"id",required:"required",placeholder:"Login ID","data-v-login":""},domProps:{value:t.loginId},on:{input:function(e){e.target.composing||(t.loginId=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-item",attrs:{"data-v-login":""}},[a("label",{attrs:{for:"password"}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.passWord,expression:"passWord"}],attrs:{type:"password",name:"password",required:"required",placeholder:"Password","data-v-login":""},domProps:{value:t.passWord},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.login(e):null},input:function(e){e.target.composing||(t.passWord=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"button-panel",attrs:{"data-v-login":""}},[a("input",{staticClass:"button",attrs:{type:"button",title:"Sign In",value:"Sign In","data-v-login":""},on:{click:t.login}})])]),t._v(" "),a("div",{staticClass:"form-footer",attrs:{"data-v-login":""}},[a("p",[t._v("aliss WEB Suite")]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.devAPI,expression:"devAPI"}]},[t._v("Connect to dev APIs")])])]),t._v(" "),a("Modal",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],attrs:{mtypeIn:2},on:{"modal-ok-event":t.loginModalOk}},[a("p",{attrs:{slot:"header"},slot:"header"},[t._v("aliss Confirmation")]),t._v(" "),a("template",{slot:"body"},[a("p",{domProps:{innerHTML:t._s(t.modalMsg)}})])],2),t._v(" "),a("Loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]})],1)},staticRenderFns:[]};var it={name:"App",mixins:[d],components:{HelloWorld:u,TitleHeader:g,SideMenu:k,SideMenuF:I,FooterComp:C,Portal:R,Login:a("VU/8")(st,ot,!1,function(t){a("XSLW")},"data-v-41b8b86c",null).exports,Modal:p,Loading:O,FAinput:j,FAtransfer:tt,FAclose:Z,FAsearch:nt},data:function(){return{pageId:{portal:!1,fa01:!1,fa02:!1,fa03:!1,fa05:!1},side:!1,login:!0,loading:!1,showModal:!1,modalMsg:"",userInfo:{userId:"",name:""}}},methods:{clickToggle:function(){this.side=!0},closeToggle:function(){this.side=!1},appModalOk:function(){this.showModal=!1}},created:function(){for(var t in this.pageId)this.pageId[t]=!1;var e=i.a.get("token");if(null!=e){this.loading=!0;var a=this;s.a.get(this.apiUrls.authToken,{headers:{Authorization:e}}).then(function(t){return 200!=t.status?(a.loading=!1,void(a.login=!1)):"S"!=t.data.status?(a.loading=!1,void(a.login=!1)):(a.login=!0,a.loading=!1,a.userInfo.userId=t.data.data.userId,void(a.userInfo.name=t.data.data.name))}).catch(function(t){a.modalMsg="alissサービスに接続できません。<br>時間をおいてから再度お試しください。",a.showModal=!0,a.loading=!1,a.login=!1});var r=new URLSearchParams(window.location.search).get("pId");null!=this.pageId[r]?this.pageId[r]=!0:this.pageId.portal=!0}else this.login=!1}},lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("SideMenuF",{directives:[{name:"show",rawName:"v-show",value:t.side,expression:"side"}],on:{"menu-close-event":t.closeToggle}}),t._v(" "),a("TitleHeader",{attrs:{userName:t.userInfo.name},on:{"toggle-clicked-event":t.clickToggle}}),t._v(" "),a("div",{attrs:{id:"mainView"}},[a("div",{attrs:{id:"mainComp"}},[this.pageId.portal?a("Portal",{attrs:{userName:t.userInfo.name}}):t._e(),t._v(" "),this.pageId.fa01?a("FAinput"):t._e(),t._v(" "),this.pageId.fa03?a("FAclose"):t._e(),t._v(" "),this.pageId.fa02?a("FAtransfer"):t._e(),t._v(" "),this.pageId.fa05?a("FAsearch"):t._e()],1),t._v(" "),a("FooterComp")],1),t._v(" "),a("Login",{directives:[{name:"show",rawName:"v-show",value:!this.login,expression:"!this.login"}]}),t._v(" "),a("Modal",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],attrs:{mtypeIn:2},on:{"modal-ok-event":t.appModalOk}},[a("p",{attrs:{slot:"header"},slot:"header"},[t._v("aliss Confirmation")]),t._v(" "),a("template",{slot:"body"},[a("p",{domProps:{innerHTML:t._s(t.modalMsg)}})])],2),t._v(" "),a("Loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]})],1)},staticRenderFns:[]};var dt=a("VU/8")(it,lt,!1,function(t){a("Vjxz")},null,null).exports;r.a.config.productionTip=!1,new r.a({el:"#app",components:{App:dt},template:"<App/>"})},NTHk:function(t,e){},"Pvu/":function(t,e){},Q8a4:function(t,e){},"QV/2":function(t,e){},"R/G9":function(t,e){},Vjxz:function(t,e){},XSLW:function(t,e){},Xk8g:function(t,e){},aApf:function(t,e){},"bL0/":function(t,e){},lFpd:function(t,e){},mZqF:function(t,e){},rIsq:function(t,e){},tgTc:function(t,e){},xDfQ:function(t,e){},yaDz:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.017020a1686eb1cdbf77.js.map